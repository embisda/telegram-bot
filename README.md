# telegram-bot
Telegram bot on PHP

## Что умеет этот бот?
1. Собирать информацию об авторизованных пользователях
2. Отправлять картинки
3. Отправлять документы
4. Отправлять видео
5. Пересылать сообщения в другой чат
6. Собирать в другой чат контакты введенные пользователем: электронная почта и телефон
7. Квиз с обработкой колбэков

## Токен в строке 2
define('TOKEN', '*');
вместо * нужно указать свой уникальный токен

## Устанавливаем веб хуки
Открываем в браузере ссылку в формате:
https://api.telegram.org/bot*/setWebhook?url=https://mywebsite.com/bot/index.php

Она состоит из адреса https://api.telegram.org/bot
токена бота *, который присваивает телеграм
команды для установки веб хука /setWebhook?url=
и адреса, где будет лежать скрипт index.php https://mywebsite.com/bot/
адрес должен быть обязательно с сертификатом ssl и начинаться на https

Если все прошло корректно, вы получите ответ в окне браузера
{"ok":true,"result":true,"description":"Webhook was set"}

## Переменные
$data — записываем в переменную data сообщения, которые пользователь отправляет боту
$chat_id — ID чата с ботом
$callback_id — ID для callback
$callback_message_id — ID сообщени в callback для удаления кнопок
$user — сохраняем в переменную user массив from в котором хранятся данные пользователя
$chatCollector — ID чата для пересылаемых сообщений. Вместо -100 нужно указать ID чата

## Дейсвтия
Строка 12 — Проверяем, что послал пользователь боту: что-то из массива message или что-то из массива callback_query
Строка 17 — Приводим все текстовые сообщения, отправляемые в бота к нижнему регистру в кодировке utf-8 и проверяем

## Case
Кейсы обрабатывают нажатия на кнопки или ввод ключевых слов с клавиатуры
В кейсах нужно писать все с маленькой буквы, а вводить с клавиатуры потом можно в любом регистре